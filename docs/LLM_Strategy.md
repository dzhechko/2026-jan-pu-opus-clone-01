# –ö–ª–∏–ø–ú–µ–π–∫–µ—Ä ‚Äî LLM Strategy: Research & Architecture Decision

## 1. –ó–∞–¥–∞—á–∏ LLM –≤ Pipeline

| –ó–∞–¥–∞—á–∞ | Input | Output | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è |
|--------|-------|--------|------------|
| **T1: Moment Selection** | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç 20-40K —Ç–æ–∫–µ–Ω–æ–≤ | 3-10 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏ | Long context, –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ç–º–æ—Ü–∏–π/hook |
| **T2: Virality Scoring** | –¢–µ–∫—Å—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ | JSON: {hook, engagement, flow, trend} | Structured output, consistency |
| **T3: Title Generation** | –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ | –¶–µ–ø–ª—è—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞ —Ä—É—Å—Å–∫–æ–º | –†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å |
| **T4: CTA Suggestion** | –ö–æ–Ω—Ç–µ–∫—Å—Ç + —Ç–∏–ø –∫—É—Ä—Å–∞ | –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é | –ò–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è |

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ LLM:**
1. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ ‚â• 32K —Ç–æ–∫–µ–Ω–æ–≤ (2-—á–∞—Å–æ–≤–æ–π –≤–µ–±–∏–Ω–∞—Ä)
2. –û—Ç–ª–∏—á–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (—Å–ª–µ–Ω–≥, –∏–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω—ã)
3. –ù–∞–¥—ë–∂–Ω—ã–π structured output (JSON mode / tool use)
4. –ù–∏–∑–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –º–∞—Å—à—Ç–∞–±–µ (200+ –≤—ã–∑–æ–≤–æ–≤/–¥–µ–Ω—å)
5. –°–∫–æ—Ä–æ—Å—Ç—å inference ‚â§ 20 —Å–µ–∫ –Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç
6. –¢–æ—á–Ω–æ–µ instruction following

---

## 2. Cloud.ru Evolution Foundation Models

### –û–±–∑–æ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

Cloud.ru Evolution Foundation Models ‚Äî —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–∞ –∫ 20+ open-source LLM —á–µ—Ä–µ–∑ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API. –°–µ—Ä–≤–µ—Ä—ã –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–§ (152-–§–ó compliance). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Reasoning, Function Calling, Structured Output.

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–∞–∫—Ç—É–∞–ª—å–Ω–æ –Ω–∞ Jan 2026)

| –ú–æ–¥–µ–ª—å | Params | Context | –¶–µ–Ω–∞ input (‚ÇΩ/1M tok) | –¶–µ–Ω–∞ output (‚ÇΩ/1M tok) | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|--------|--------|---------|------------------------|-------------------------|-------------|
| **Qwen3-235B-A22B** | 235B (22B active) | 32K+ | 17‚ÇΩ | ~70‚ÇΩ | Flagship MoE, multilingual, thinking mode |
| **T-Pro 2.0** | 32B | 32K (128K —Å RoPE) | ~35‚ÇΩ | ~70‚ÇΩ | üá∑üá∫ **–õ—É—á—à–∞—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ**: Cyrillic-dense tokenizer, -24% —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —Ç–µ–∫—Å—Ç–µ |
| **T-Pro 2.1** | 32B | 32K | ~35‚ÇΩ | ~70‚ÇΩ | –£–ª—É—á—à–µ–Ω–Ω—ã–π tool-calling, –Ω–∞ —É—Ä–æ–≤–Ω–µ Qwen3-235B –≤ function calling |
| **GLM-4.6** | ~100B+ | 200K | 55‚ÇΩ | 220‚ÇΩ | –û–≥—Ä–æ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ö–æ—Ä–æ—à –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ |
| **GigaChat-2-Max** | ‚Äî | ‚Äî | 467‚ÇΩ | 467‚ÇΩ | –†–æ—Å—Å–∏–π—Å–∫–∞—è –º–æ–¥–µ–ª—å –°–±–µ—Ä–∞, –¥–æ—Ä–æ–≥–∞—è |
| **GigaChat3-10B** | 10B (1.8B active) | ‚Äî | 10‚ÇΩ | 10‚ÇΩ | –£–ª—å—Ç—Ä–∞-–¥–µ—à—ë–≤–∞—è, –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á |
| **GPT-OSS-120B** | 120B | ‚Äî | ~35‚ÇΩ | ~70‚ÇΩ | Open-source –æ—Ç OpenAI |
| **MiniMax-M2** | ‚Äî | ‚Äî | 33‚ÇΩ | 130‚ÇΩ | –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è |
| **Whisper Large-v3** | ‚Äî | ‚Äî | 0.005‚ÇΩ/—Å–µ–∫ | ‚Äî | STT, –ø—Ä—è–º–æ –Ω–∞ Cloud.ru! |

### –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ: Whisper –Ω–∞ Cloud.ru

**Cloud.ru –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Whisper Large-v3 —á–µ—Ä–µ–∑ API –ø–æ 0.005‚ÇΩ/—Å–µ–∫ = 0.30‚ÇΩ/–º–∏–Ω.**
–≠—Ç–æ –¥–µ—à–µ–≤–ª–µ OpenAI ($0.006/–º–∏–Ω ‚âà 0.55‚ÇΩ/–º–∏–Ω) –∏ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –†–§ (152-–§–ó).

---

## 3. T-Pro 2.0/2.1 ‚Äî –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑

### –ü–æ—á–µ–º—É T-Pro –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –ö–ª–∏–ø–ú–µ–π–∫–µ—Ä

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ë–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ Qwen3-32B, –Ω–æ —Å –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–º —É–ª—É—á—à–µ–Ω–∏–µ–º –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.

**Cyrillic-dense tokenizer ‚Äî –∫–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Qwen3 tokenizer: 3.12 —Ç–æ–∫–µ–Ω–∞/—Å–ª–æ–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —Ç–µ–∫—Å—Ç–µ
- T-Pro 2.0 tokenizer: **2.38 —Ç–æ–∫–µ–Ω–∞/—Å–ª–æ–≤–æ** (-24%)
- –î–æ–ª—è —Å–ª–æ–≤ –≤ ‚â§2 —Ç–æ–∫–µ–Ω–∞: 38% ‚Üí **60%**
- **–≠–∫–æ–Ω–æ–º–∏—è:** 2-—á–∞—Å–æ–≤–æ–π –≤–µ–±–∏–Ω–∞—Ä ‚âà 25K —Å–ª–æ–≤ = ~60K —Ç–æ–∫–µ–Ω–æ–≤ (Qwen3) vs ~45K —Ç–æ–∫–µ–Ω–æ–≤ (T-Pro). –≠–∫–æ–Ω–æ–º–∏—è ~25% –Ω–∞ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ.

**Benchmarks –Ω–∞ —Ä—É—Å—Å–∫–æ–º:**
- ruGSM8K: **94.1%** (state-of-the-art)
- ruMATH: 77.6%
- Arena-Hard-Ru: **90.17%** (state-of-the-art)
- MERA (—Ä—É—Å—Å–∫–∏–µ –±–µ–Ω—á–º–∞—Ä–∫–∏): top-tier —Å—Ä–µ–¥–∏ open-source
- Inference speedup: EAGLE speculative decoding ‚Üí **2.28x** —É—Å–∫–æ—Ä–µ–Ω–∏–µ

**T-Pro 2.1 vs 2.0:**
- +9 –ø.–ø. improvement –≤ instruction following
- Tool-calling –Ω–∞ —É—Ä–æ–≤–Ω–µ Qwen3-235B (–º–æ–¥–µ–ª—å –≤ 7x –±–æ–ª—å—à–µ!)
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è structured JSON output

### T-Pro –¥–ª—è –∑–∞–¥–∞—á –ö–ª–∏–ø–ú–µ–π–∫–µ—Ä

| –ó–∞–¥–∞—á–∞ | T-Pro fit | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|--------|-----------|-------------|
| **T1: Moment Selection** | ‚úÖ‚úÖ | 32K context –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 90% –≤–µ–±–∏–Ω–∞—Ä–æ–≤; —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ ‚Äî –ª—É—á—à–∏–π –≤ –∫–ª–∞—Å—Å–µ |
| **T2: Virality Scoring** | ‚úÖ‚úÖ | Structured output + tool-calling –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–µ–π 7x –∫—Ä—É–ø–Ω–µ–µ |
| **T3: Title Generation** | ‚úÖ‚úÖ‚úÖ | –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π —Ä—É—Å—Å–∫–∏–π ‚Äî —Å–∏–ª—å–Ω–µ–π—à–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (Arena-Hard-Ru 90.17%) |
| **T4: CTA Suggestion** | ‚úÖ‚úÖ | –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ –∏–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è T-Pro

- –ö–æ–Ω—Ç–µ–∫—Å—Ç 32K (—Å RoPE –¥–æ 128K, –Ω–æ —Å –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–µ–π –∫–∞—á–µ—Å—Ç–≤–∞)
- –î–ª—è –≤–µ–±–∏–Ω–∞—Ä–æ–≤ >2 —á–∞—Å–æ–≤ (>50K —Ç–æ–∫–µ–Ω–æ–≤) –º–æ–∂–µ—Ç –Ω–µ —Ö–≤–∞—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ù–µ—Ç –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏ (–Ω–æ –Ω–∞–º –æ–Ω–∞ –Ω–µ –Ω—É–∂–Ω–∞ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞)

---

## 4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ open-source –º–æ–¥–µ–ª–∏

### Qwen3-235B-A22B (—á–µ—Ä–µ–∑ Cloud.ru)

| –ê—Å–ø–µ–∫—Ç | –û—Ü–µ–Ω–∫–∞ |
|--------|--------|
| –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ | ‚úÖ –•–æ—Ä–æ—à–∏–π (119 —è–∑—ã–∫–æ–≤), –Ω–æ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è —Ö—É–∂–µ T-Pro –Ω–∞ 24% |
| Context | ‚úÖ 32K+ |
| Structured output | ‚úÖ‚úÖ Excellent (–Ω–∞—Ç–∏–≤–Ω—ã–π JSON mode, thinking mode) |
| –¶–µ–Ω–∞ Cloud.ru | 17‚ÇΩ input / ~70‚ÇΩ output –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤ |
| –°–∫–æ—Ä–æ—Å—Ç—å | ‚úÖ MoE ‚Üí –±—ã—Å—Ç—Ä—ã–π inference (22B active –∏–∑ 235B) |
| Verdict | **–û—Ç–ª–∏—á–Ω—ã–π fallback** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á, –Ω–æ –¥–æ—Ä–æ–∂–µ T-Pro –ø—Ä–∏ —Ç–æ–º –∂–µ –∫–∞—á–µ—Å—Ç–≤–µ —Ä—É—Å—Å–∫–æ–≥–æ |

### GLM-4.6 (—á–µ—Ä–µ–∑ Cloud.ru)

| –ê—Å–ø–µ–∫—Ç | –û—Ü–µ–Ω–∫–∞ |
|--------|--------|
| –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ | ‚úÖ –ü—Ä–∏–µ–º–ª–µ–º—ã–π |
| Context | ‚úÖ‚úÖ‚úÖ **200K** ‚Äî –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ª—é–±–æ–π –≤–µ–±–∏–Ω–∞—Ä —Ü–µ–ª–∏–∫–æ–º |
| Structured output | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| –¶–µ–Ω–∞ Cloud.ru | 55‚ÇΩ input / 220‚ÇΩ output ‚Äî –¥–æ—Ä–æ–∂–µ |
| Verdict | **–î–ª—è –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã—Ö –≤–µ–±–∏–Ω–∞—Ä–æ–≤** (>2 —á–∞—Å–æ–≤), –≥–¥–µ T-Pro –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |

### GigaChat3-10B (—á–µ—Ä–µ–∑ Cloud.ru)

| –ê—Å–ø–µ–∫—Ç | –û—Ü–µ–Ω–∫–∞ |
|--------|--------|
| –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ | ‚úÖ‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–π —Ä—É—Å—Å–∫–∏–π (–°–±–µ—Ä) |
| Context | ‚ùì –ù–µ —É–∫–∞–∑–∞–Ω |
| Structured output | ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ |
| –¶–µ–Ω–∞ Cloud.ru | **10‚ÇΩ / 10‚ÇΩ** ‚Äî —É–ª—å—Ç—Ä–∞-–¥–µ—à—ë–≤–∞—è |
| Verdict | **–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á** (T3: titles, T4: CTA) –≥–¥–µ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç |

### Self-hosted –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∞)

| –ú–æ–¥–µ–ª—å | Params | VRAM | –†—É—Å—Å–∫–∏–π | Structured output | Verdict |
|--------|--------|------|---------|-------------------|---------|
| **T-Pro 2.1** (self-hosted) | 32B | ~24GB (INT4) | ‚úÖ‚úÖ‚úÖ | ‚úÖ‚úÖ | **Best choice** –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ; 1x A100 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| Qwen3-32B | 32B | ~24GB (INT4) | ‚úÖ | ‚úÖ‚úÖ | –•–æ—Ä–æ—à, –Ω–æ T-Pro –ª—É—á—à–µ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ |
| Qwen3-14B | 14B | ~12GB (INT4) | ‚úÖ | ‚úÖ | Budget option; RTX 4090 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| Vikhr (Saiga) | 7-13B | ~8-12GB | ‚úÖ‚úÖ | ‚ùì | –†—É—Å—Å–∫–∏–π fine-tune, –Ω–æ —Å–ª–∞–±–µ–µ –≤ reasoning |
| GigaChat3-10B | 10B | ~8GB | ‚úÖ‚úÖ | ‚ùì | MoE, –æ—á–µ–Ω—å –ª—ë–≥–∫–∞—è |

---

## 5. –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     LLM ROUTER                              ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Input: video duration, plan tier, task type                ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ   TIER 1: FAST   ‚îÇ    ‚îÇ   TIER 2: QUALITY        ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ    ‚îÇ                          ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  T-Pro 2.1      ‚îÇ    ‚îÇ  Qwen3-235B-A22B        ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  via Cloud.ru   ‚îÇ    ‚îÇ  via Cloud.ru            ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ    ‚îÇ                          ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  Tasks:         ‚îÇ    ‚îÇ  Tasks:                  ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  - All T1-T4    ‚îÇ    ‚îÇ  - Complex T1 (>2hr)     ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ    (default)    ‚îÇ    ‚îÇ  - Low-score retry       ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ    ‚îÇ  - Business plan users   ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  Cost: ~35‚ÇΩ/1M  ‚îÇ    ‚îÇ  Cost: ~17-70‚ÇΩ/1M       ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ  TIER 0: MICRO   ‚îÇ    ‚îÇ  TIER 3: LONG CONTEXT    ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ    ‚îÇ                          ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  GigaChat3-10B  ‚îÇ    ‚îÇ  GLM-4.6 (200K ctx)     ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  via Cloud.ru   ‚îÇ    ‚îÇ  via Cloud.ru            ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ    ‚îÇ                          ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  Tasks:         ‚îÇ    ‚îÇ  Tasks:                  ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  - T3: Titles   ‚îÇ    ‚îÇ  - –í–µ–±–∏–Ω–∞—Ä—ã >2.5 —á–∞—Å–æ–≤   ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  - T4: CTA      ‚îÇ    ‚îÇ  - Full transcript       ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  - Simple tasks ‚îÇ    ‚îÇ    analysis              ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ    ‚îÇ                          ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  Cost: 10‚ÇΩ/1M   ‚îÇ    ‚îÇ  Cost: 55‚ÇΩ/1M           ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  STT: Whisper Large-v3 via Cloud.ru (0.005‚ÇΩ/—Å–µ–∫)           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Routing Logic

```
def select_model(video_duration, plan, task, previous_score=None):
    
    # STT –≤—Å–µ–≥–¥–∞ —á–µ—Ä–µ–∑ Cloud.ru Whisper
    if task == "transcription":
        return "cloud.ru/whisper-large-v3"  # 0.005‚ÇΩ/—Å–µ–∫
    
    # Tier 0: –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ ‚Üí GigaChat3-10B (—É–ª—å—Ç—Ä–∞-–¥–µ—à—ë–≤—ã–π)
    if task in ["title_generation", "cta_suggestion"]:
        return "cloud.ru/gigachat3-10b"  # 10‚ÇΩ/1M tokens
    
    # Tier 3: –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ –≤–∏–¥–µ–æ ‚Üí GLM-4.6 (200K context)
    if video_duration > 150 and task == "moment_selection":
        return "cloud.ru/glm-4.6"  # 55‚ÇΩ/1M tokens, 200K context
    
    # Tier 2: premium –∏–ª–∏ retry ‚Üí Qwen3-235B
    if plan == "business" or (previous_score and previous_score < 50):
        return "cloud.ru/qwen3-235b"  # 17‚ÇΩ/1M tokens
    
    # Tier 1: default ‚Üí T-Pro 2.1 (–ª—É—á—à–∏–π –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ)
    return "cloud.ru/t-pro-2.1"  # 35‚ÇΩ/1M tokens
```

### –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ 1 –≤–∏–¥–µ–æ (60 –º–∏–Ω)

| –≠—Ç–∞–ø | –ú–æ–¥–µ–ª—å | Tokens/Duration | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|------|--------|-----------------|-----------|
| **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** | Whisper (Cloud.ru) | 3,600 —Å–µ–∫ | 18‚ÇΩ |
| **Moment Selection** | T-Pro 2.1 | ~45K in + ~5K out | 1.6‚ÇΩ + 0.35‚ÇΩ = ~2‚ÇΩ |
| **Virality Scoring** | T-Pro 2.1 (batch) | ~10K in + ~2K out | ~0.5‚ÇΩ |
| **Titles (√ó10)** | GigaChat3-10B | ~5K in + ~1K out | ~0.06‚ÇΩ |
| **CTA (√ó10)** | GigaChat3-10B | ~3K in + ~1K out | ~0.04‚ÇΩ |
| **–ò–¢–û–ì–û** | | | **~20.6‚ÇΩ ‚âà $0.22** |

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –æ—Ü–µ–Ω–∫–æ–π (Gemini + OpenAI Whisper):**
- –ë—ã–ª–æ: ~2.50‚ÇΩ/–º–∏–Ω = 150‚ÇΩ –∑–∞ 60 –º–∏–Ω
- **–°—Ç–∞–ª–æ: ~20.6‚ÇΩ –∑–∞ 60 –º–∏–Ω** (0.34‚ÇΩ/–º–∏–Ω)
- **–≠–∫–æ–Ω–æ–º–∏—è: 7.3x** üî•

### –≠–≤–æ–ª—é—Ü–∏—è –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ

| –§–∞–∑–∞ | –û–±—ä—ë–º | –°—Ç—Ä–∞—Ç–µ–≥–∏—è | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–∏–Ω |
|------|-------|-----------|---------------|
| **Launch (0-500 users)** | <1K –≤–∏–¥–µ–æ/–º–µ—Å | Cloud.ru API only | 0.34‚ÇΩ/–º–∏–Ω |
| **Growth (500-2500)** | 1-5K –≤–∏–¥–µ–æ/–º–µ—Å | Cloud.ru API + self-host Whisper | 0.25‚ÇΩ/–º–∏–Ω |
| **Scale (2500+)** | 5K+ –≤–∏–¥–µ–æ/–º–µ—Å | Self-host T-Pro 2.1 + Whisper on GPU VPS | 0.15‚ÇΩ/–º–∏–Ω |

**Self-hosting T-Pro 2.1 (at scale):**
- –¢—Ä–µ–±—É–µ—Ç—Å—è: 1√ó A100 80GB –∏–ª–∏ 2√ó RTX 4090 (INT4 quantization)
- –°—Ç–æ–∏–º–æ—Å—Ç—å GPU VPS: ~50-80K‚ÇΩ/–º–µ—Å –Ω–∞ Cloud.ru –∏–ª–∏ Selectel
- Break-even vs API: –ø—Ä–∏ ~5,000+ –≤–∏–¥–µ–æ/–º–µ—Å

---

## 6. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Cloud.ru –¥–ª—è –ö–ª–∏–ø–ú–µ–π–∫–µ—Ä

| –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| **152-–§–ó compliance** | –î–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –≤ –†–§ ‚Äî –Ω–µ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏ |
| **–û–ø–ª–∞—Ç–∞ –≤ —Ä—É–±–ª—è—Ö** | –ù–µ—Ç –≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ä–∏—Å–∫–∞, –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏ |
| **OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API** | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ |
| **Whisper + LLM –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ** | –í–µ—Å—å AI pipeline –Ω–∞ –æ–¥–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ |
| **T-Pro 2.1** | –õ—É—á—à–∞—è open-source –º–æ–¥–µ–ª—å –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ |
| **SLA –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7** | Production-grade –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ |
| **–ë–æ–Ω—É—Å—ã –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** | 4,000‚ÇΩ —Ñ–∏–∑–ª–∏—Ü–∞–º, 20,000‚ÇΩ —é—Ä–ª–∏—Ü–∞–º |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** | ML Inference –¥–ª—è self-host –º–æ–¥–µ–ª–µ–π –Ω–∞ —Ç–æ–π –∂–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ |

---

## 7. Implementation: OpenAI-Compatible API

```typescript
// Cloud.ru uses OpenAI-compatible API
import OpenAI from 'openai';

const cloudru = new OpenAI({
  apiKey: process.env.CLOUDRU_API_KEY,
  baseURL: 'https://foundation-models.api.cloud.ru/v1', // OpenAI-compatible endpoint
});

// Tier 1: T-Pro 2.1 for moment selection
const momentSelection = await cloudru.chat.completions.create({
  model: 't-tech/T-pro-it-2.1',
  messages: [
    { role: 'system', content: MOMENT_SELECTION_PROMPT },
    { role: 'user', content: transcript }
  ],
  response_format: { type: 'json_object' },
  temperature: 0.3,
  max_tokens: 4096,
});

// Tier 0: GigaChat3-10B for titles
const titles = await cloudru.chat.completions.create({
  model: 'GigaChat3-10B-A1.8B',
  messages: [
    { role: 'system', content: TITLE_GENERATION_PROMPT },
    { role: 'user', content: clipContext }
  ],
  temperature: 0.7,
  max_tokens: 256,
});

// STT: Whisper on Cloud.ru
const transcription = await cloudru.audio.transcriptions.create({
  model: 'openai/whisper-large-v3',
  file: audioFile,
  language: 'ru',
  response_format: 'verbose_json', // includes timestamps
});
```

---

## 8. –†–∏—Å–∫–∏ –∏ Mitigations

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | Impact | Mitigation |
|------|-------------|--------|------------|
| Cloud.ru downtime | üü¢ Low | üü° Medium | Fallback –∫ Gemini Flash API —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ |
| T-Pro –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∏–∂–µ –æ–∂–∏–¥–∞–Ω–∏–π | üü° Medium | üü° Medium | A/B test —Å Qwen3-235B; auto-fallback –ø—Ä–∏ low score |
| –¶–µ–Ω—ã Cloud.ru –≤—ã—Ä–∞—Å—Ç—É—Ç | üü¢ Low | üü° Medium | Self-host T-Pro 2.1 –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ (open-weight) |
| –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –ª—É—á—à–µ T-Pro | üü° Medium | üü¢ Low | LLM Router –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å ‚Üí –∑–∞–º–µ–Ω–∞ –∑–∞ 1 –¥–µ–Ω—å |
| Whisper –ø–ª–æ—Ö–æ —Å –∏–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å-—Å–ª–µ–Ω–≥–æ–º | üü° Medium | üü° Medium | Post-processing + user corrections ‚Üí fine-tune corpus |

---

## 9. –†–µ—à–µ–Ω–∏–µ (Architecture Decision Record)

**ADR-001: LLM Provider Strategy**

**Status:** Accepted

**Context:** –ö–ª–∏–ø–ú–µ–π–∫–µ—Ä –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ LLM –¥–ª—è 4 –∑–∞–¥–∞—á –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ 152-–§–ó compliance, –Ω–∏–∑–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä—É—Å—Å–∫–æ–≥–æ.

**Decision:** –ß–µ—Ç—ã—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ –±–∞–∑–µ Cloud.ru Evolution Foundation Models:
- **Tier 0 (micro):** GigaChat3-10B –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á (titles, CTA) ‚Äî 10‚ÇΩ/1M
- **Tier 1 (default):** T-Pro 2.1 –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–¥–∞—á ‚Äî –ª—É—á—à–∏–π —Ä—É—Å—Å–∫–∏–π, structured output ‚Äî 35‚ÇΩ/1M
- **Tier 2 (quality):** Qwen3-235B –¥–ª—è premium users –∏ retry ‚Äî 17-70‚ÇΩ/1M
- **Tier 3 (long):** GLM-4.6 –¥–ª—è –≤–µ–±–∏–Ω–∞—Ä–æ–≤ >2.5—á ‚Äî 200K context ‚Äî 55‚ÇΩ/1M
- **STT:** Whisper Large-v3 –Ω–∞ Cloud.ru ‚Äî 0.005‚ÇΩ/—Å–µ–∫ (–¥–µ—à–µ–≤–ª–µ OpenAI!)

**Consequences:**
- ‚úÖ –í—Å—ë –≤ –†–§ (152-–§–ó)
- ‚úÖ –û–ø–ª–∞—Ç–∞ –≤ —Ä—É–±–ª—è—Ö (–Ω–µ—Ç –≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ä–∏—Å–∫–∞)
- ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å 0.34‚ÇΩ/–º–∏–Ω (7x –¥–µ—à–µ–≤–ª–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏)
- ‚úÖ OpenAI-compatible API (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π vendor lock-in)
- ‚úÖ Open-weight –º–æ–¥–µ–ª–∏ ‚Üí –º–æ–∂–Ω–æ self-host –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ
- ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Cloud.ru (mitigation: –º–æ–¥–µ–ª–∏ open-source, –º–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å)
